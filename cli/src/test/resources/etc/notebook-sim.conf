spark-bench = {

  spark-contexts = [{

    master = "local[2]"
    suites-parallel = true

    suites = [
      // This is our data scientist who's using a notebook to process way too much data
      {
        descr = "Otis"
        parallel = false
        repeat = 1
        benchmark-output = "console"

        workloads = [
          {
            name = ["sql"]
            input = ["notebook-sim-test/spark-bench-test/giant-kmeans-data.parquet"]
            query = ["select `0` from input where `0` < -0.9"]
          },
          {
            name = ["sleep"]
            sleepms = [6000]
          },
          {
            name = ["kmeans"]
            k = [40]
            input = ["notebook-sim-test/spark-bench-test/giant-kmeans-data.parquet"]
          },
          {
            name = ["sleep"]
            maxsleepms = [60000]
          }
        ]
      },
      // This is our poor data engineer just trying to do normal notebook-scale queries
      {
        descr = "Just trying to do some queries, man!"
        parallel = false
        repeat = 1
        benchmark-output = "console"

        workloads = [
          {
            name = ["sql"]
            input = ["notebook-sim-test/spark-bench-test/tiny-kmeans-data.parquet"]
            query = ["select `0` from input where `0` < -0.9"]
          },
          {
            name = ["sleep"]
            sleepms = [10000]
          },
          {
            name = ["sql"]
            input = ["notebook-sim-test/spark-bench-test/tiny-kmeans-data.parquet"]
            query = ["select `0` from input where `0` < -0.8"]
          },
          {
            name = ["sleep"]
            sleepms = [10000]
          },
          {
            name = ["sql"]
            input = ["notebook-sim-test/spark-bench-test/tiny-kmeans-data.parquet"]
            query = ["select `0` from input where `0` < -0.7"]
          },
          {
            name = ["sleep"]
            sleepms = [10000]
          }
        ]
      }
    ]
  }]
}
